{"version":3,"sources":["App.tsx","components/Home.tsx","components/PersonLink.tsx","api.ts","components/Loader/Loader.tsx","components/PeopleTable.tsx","Root.tsx","index.tsx"],"names":["App","className","role","to","isActive","cn","Home","PersonLink","person","motherNameLink","fatherNameLink","slug","useParams","sex","name","born","died","motherName","fatherName","getPeople","delay","Promise","resolve","setTimeout","then","fetch","response","json","Loader","PeopleTable","useState","people","setPeople","isLoading","setIsLoading","isErrorMessage","setIsErrorMessage","useEffect","catch","finally","getSlug","find","noPeopleOnServer","length","map","Root","path","element","index","replace","ReactDOM","render","document","getElementById"],"mappings":"6QAKaA,EAAM,kBACjB,sBAAK,UAAQ,MAAb,UACE,qBACE,UAAQ,MACRC,UAAU,iCACVC,KAAK,aACL,aAAW,kBAJb,SAME,qBAAKD,UAAU,YAAf,SACE,sBAAKA,UAAU,eAAf,UACE,cAAC,IAAD,CACEE,GAAG,IACHF,UAAW,gBAAGG,EAAH,EAAGA,SAAH,OAAkBC,IAAG,cAAe,CAC7C,8BAA+BD,GADtB,EAFb,kBAQA,cAAC,IAAD,CACED,GAAG,UACHF,UAAW,gBAAGG,EAAH,EAAGA,SAAH,OAAkBC,IAAG,cAAe,CAC7C,8BAA+BD,GADtB,EAFb,2BAYN,sBAAMH,UAAU,UAAhB,SACE,qBAAKA,UAAU,YAAf,SACE,cAAC,IAAD,UAhCW,ECLNK,EAAO,WAClB,OACE,oBAAIL,UAAU,QAAd,sBAEH,E,cCMYM,EAA8B,SAAC,GAIrC,IAHLC,EAGI,EAHJA,OACAC,EAEI,EAFJA,eACAC,EACI,EADJA,eAEQC,EAASC,cAATD,KAER,OACE,qBACE,UAAQ,SACRV,UAAWI,IAAG,CACZ,yBAA0BM,IAASH,EAAOG,OAH9C,UAME,6BACE,cAAC,IAAD,CACER,GAAE,kBAAaK,EAAOG,MACtBV,UAAWI,IAAG,CACZ,kBAAkC,MAAfG,EAAOK,MAH9B,SAMGL,EAAOM,SAIZ,6BAAKN,EAAOK,MACZ,6BAAKL,EAAOO,OACZ,6BAAKP,EAAOQ,OACZ,6BACIP,EACA,cAAC,IAAD,CACEN,GAAE,kBAAaM,GACfR,UAAU,kBAFZ,SAIGO,EAAOS,aAGV,mCACIT,EAAOS,YAAc,QAI7B,6BACIP,EACA,cAAC,IAAD,CACEP,GAAE,kBAAaO,GADjB,SAGGF,EAAOU,aAGV,mCACIV,EAAOU,YAAc,UAMlC,EC1DM,SAASC,IAEd,OANYC,EAMA,IALL,IAAIC,SAAQ,SAAAC,GAAO,OAAIC,WAAWD,EAASF,EAAxB,KAMvBI,MAAK,kBAAMC,MATA,oEASN,IACLD,MAAK,SAAAE,GAAQ,OAAIA,EAASC,MAAb,IARlB,IAAcP,CASb,C,UCZYQ,EAAS,kBACpB,qBAAK3B,UAAU,SAAS,UAAQ,SAAhC,SACE,qBAAKA,UAAU,qBAFG,ECIT4B,EAAc,WACzB,MAA4BC,mBAAmB,IAA/C,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAAkCF,oBAAS,GAA3C,mBAAOG,EAAP,KAAkBC,EAAlB,KACA,EAA4CJ,oBAAS,GAArD,mBAAOK,EAAP,KAAuBC,EAAvB,KAEAC,qBAAU,WACRH,GAAa,GACbf,IACGK,KAAKQ,GACLM,OAAM,kBAAMF,GAAkB,EAAxB,IACNG,SAAQ,kBAAML,GAAa,EAAnB,GACZ,GAAE,IAEH,IAAMM,EAAU,SAAC1B,GAAyB,IAAD,EACvC,iBAAOiB,EAAOU,MAAK,SAAAjC,GAAM,OAAIA,EAAOM,OAASA,CAApB,WAAzB,aAAO,EAA6CH,IACrD,EAEK+B,GAAoBX,EAAOY,SAAWR,IAAmBF,EAE/D,OACE,qCACE,oBAAIhC,UAAU,QAAd,yBAEA,qBAAKA,UAAU,QAAf,SACE,sBAAKA,UAAU,sBAAf,UACGgC,GACC,cAAC,EAAD,IAGDE,IAAmBF,GAClB,mBAAG,UAAQ,qBAAqBhC,UAAU,kBAA1C,kCAKD8B,EAAOY,OAAS,GACf,wBACE,UAAQ,cACR1C,UAAU,uDAFZ,UAIE,gCACE,+BACE,sCACA,qCACA,sCACA,sCACA,wCACA,6CAIJ,gCACI8B,EAAOa,KAAI,SAAApC,GACX,OACE,cAAC,EAAD,CACEA,OAAQA,EACRC,eAAgB+B,EAAQhC,EAAOS,YAC/BP,eAAgB8B,EAAQhC,EAAOU,aAC1BV,EAAOG,KAGjB,SAKN+B,GACC,mBAAG,UAAQ,kBAAX,sDAQX,EC1EYG,EAAO,kBAClB,cAAC,IAAD,UACE,cAAC,IAAD,UACE,eAAC,IAAD,CAAOC,KAAK,IAAIC,QAAS,cAAC,EAAD,IAAzB,UACE,cAAC,IAAD,CACED,KAAK,IACLC,QAAS,oBAAI9C,UAAU,QAAd,8BAGX,cAAC,IAAD,CAAO+C,OAAK,EAACD,QAAS,cAAC,EAAD,MACtB,cAAC,IAAD,CAAOD,KAAK,QAAQC,QAAS,cAAC,IAAD,CAAU5C,GAAG,IAAI8C,SAAO,MAErD,eAAC,IAAD,CAAOH,KAAK,SAAZ,UACE,cAAC,IAAD,CAAOE,OAAK,EAACD,QAAS,cAAC,EAAD,MACtB,cAAC,IAAD,CAAOD,KAAK,QAAQC,QAAS,cAAC,EAAD,eAdnB,ECDpBG,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,Q","file":"static/js/main.938cf29b.chunk.js","sourcesContent":["import { NavLink, Outlet } from 'react-router-dom';\nimport cn from 'classnames';\n\nimport './App.scss';\n\nexport const App = () => (\n  <div data-cy=\"app\">\n    <nav\n      data-cy=\"nav\"\n      className=\"navbar is-fixed-top has-shadow\"\n      role=\"navigation\"\n      aria-label=\"main navigation\"\n    >\n      <div className=\"container\">\n        <div className=\"navbar-brand\">\n          <NavLink\n            to=\"/\"\n            className={({ isActive }) => cn('navbar-item', {\n              'has-background-grey-lighter': isActive,\n            })}\n          >\n            Home\n          </NavLink>\n          <NavLink\n            to=\"/people\"\n            className={({ isActive }) => cn('navbar-item', {\n              'has-background-grey-lighter': isActive,\n            })}\n          >\n            People\n          </NavLink>\n        </div>\n      </div>\n    </nav>\n\n    <main className=\"section\">\n      <div className=\"container\">\n        <Outlet />\n      </div>\n    </main>\n  </div>\n);\n","export const Home = () => {\n  return (\n    <h1 className=\"title\">Home Page</h1>\n  );\n};\n","import { Link, useParams } from 'react-router-dom';\nimport cn from 'classnames';\nimport { Person } from '../types';\n\ntype Props = {\n  person: Person,\n  motherNameLink: string | undefined,\n  fatherNameLink: string | undefined,\n};\n\nexport const PersonLink: React.FC<Props> = ({\n  person,\n  motherNameLink,\n  fatherNameLink,\n}) => {\n  const { slug } = useParams();\n\n  return (\n    <tr\n      data-cy=\"person\"\n      className={cn({\n        'has-background-warning': slug === person.slug,\n      })}\n    >\n      <td>\n        <Link\n          to={`/people/${person.slug}`}\n          className={cn({\n            'has-text-danger': person.sex === 'f',\n          })}\n        >\n          {person.name}\n        </Link>\n      </td>\n\n      <td>{person.sex}</td>\n      <td>{person.born}</td>\n      <td>{person.died}</td>\n      <td>\n        { motherNameLink ? (\n          <Link\n            to={`/people/${motherNameLink}`}\n            className=\"has-text-danger\"\n          >\n            {person.motherName}\n          </Link>\n        ) : (\n          <>\n            { person.motherName || '-'}\n          </>\n        )}\n      </td>\n      <td>\n        { fatherNameLink ? (\n          <Link\n            to={`/people/${fatherNameLink}`}\n          >\n            {person.fatherName}\n          </Link>\n        ) : (\n          <>\n            { person.fatherName || '-'}\n          </>\n        )}\n      </td>\n    </tr>\n  );\n};\n","import { Person } from './types/Person';\n\n// eslint-disable-next-line max-len\nconst API_URL = 'https://mate-academy.github.io/react_people-table/api/people.json';\n\nfunction wait(delay: number) {\n  return new Promise(resolve => setTimeout(resolve, delay));\n}\n\nexport function getPeople(): Promise<Person[]> {\n  // keep this delay for testing purpose\n  return wait(500)\n    .then(() => fetch(API_URL))\n    .then(response => response.json());\n}\n","import './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"Loader\" data-cy=\"loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import { useEffect, useState } from 'react';\nimport { PersonLink } from './PersonLink';\nimport { Person } from '../types';\nimport { getPeople } from '../api';\nimport { Loader } from './Loader';\n\nexport const PeopleTable = () => {\n  const [people, setPeople] = useState<Person[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isErrorMessage, setIsErrorMessage] = useState(false);\n\n  useEffect(() => {\n    setIsLoading(true);\n    getPeople()\n      .then(setPeople)\n      .catch(() => setIsErrorMessage(true))\n      .finally(() => setIsLoading(false));\n  }, []);\n\n  const getSlug = (name: string | null) => {\n    return people.find(person => person.name === name)?.slug;\n  };\n\n  const noPeopleOnServer = !people.length && !isErrorMessage && !isLoading;\n\n  return (\n    <>\n      <h1 className=\"title\">People Page</h1>\n\n      <div className=\"block\">\n        <div className=\"box table-container\">\n          {isLoading && (\n            <Loader />\n          )}\n\n          {isErrorMessage && !isLoading && (\n            <p data-cy=\"peopleLoadingError\" className=\"has-text-danger\">\n              Something went wrong\n            </p>\n          )}\n\n          {people.length > 0 && (\n            <table\n              data-cy=\"peopleTable\"\n              className=\"table is-striped is-hoverable is-narrow is-fullwidth\"\n            >\n              <thead>\n                <tr>\n                  <th>Name</th>\n                  <th>Sex</th>\n                  <th>Born</th>\n                  <th>Died</th>\n                  <th>Mother</th>\n                  <th>Father</th>\n                </tr>\n              </thead>\n\n              <tbody>\n                { people.map(person => {\n                  return (\n                    <PersonLink\n                      person={person}\n                      motherNameLink={getSlug(person.motherName)}\n                      fatherNameLink={getSlug(person.fatherName)}\n                      key={person.slug}\n                    />\n                  );\n                })}\n              </tbody>\n            </table>\n          )}\n\n          {noPeopleOnServer && (\n            <p data-cy=\"noPeopleMessage\">\n              There are no people on the server\n            </p>\n          )}\n        </div>\n      </div>\n    </>\n  );\n};\n","import {\n  HashRouter, Navigate, Route, Routes,\n} from 'react-router-dom';\nimport { App } from './App';\nimport { Home } from './components/Home';\nimport { PeopleTable } from './components/PeopleTable';\n\nexport const Root = () => (\n  <HashRouter>\n    <Routes>\n      <Route path=\"/\" element={<App />}>\n        <Route\n          path=\"*\"\n          element={<h1 className=\"title\">Page not found</h1>}\n        />\n\n        <Route index element={<Home />} />\n        <Route path=\"/home\" element={<Navigate to=\"/\" replace />} />\n\n        <Route path=\"people\">\n          <Route index element={<PeopleTable />} />\n          <Route path=\":slug\" element={<PeopleTable />} />\n        </Route>\n      </Route>\n    </Routes>\n  </HashRouter>\n);\n","import 'bulma/css/bulma.css';\nimport '@fortawesome/fontawesome-free/css/all.css';\n\nimport ReactDOM from 'react-dom';\nimport { Root } from './Root';\n\nReactDOM.render(\n  <Root />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}